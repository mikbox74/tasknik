# System Patterns

## Architecture Overview
Tasknik построен как одностраничное React-приложение (SPA) с следующими основными компонентами:

### Core Components
- **App.js** - корневой компонент, управляющий общим состоянием
- **Project/** - компоненты для работы с проектами
- **Todo/** - компоненты для работы с задачами
- **Modal/** - компонент модального окна
- **TotalTimer/** - компонент общего таймера
- **Helpers/** - вспомогательные функции

## Design Patterns

### State Management
- Использование React Context для глобального состояния
- localStorage для персистентности данных
- Компонентный локальный state для UI состояний

### Component Hierarchy
```
App
├── ProjectForm
├── TodoForm
│   └── ProjectSelectModal
├── TodoList
│   └── TodoItem
├── TotalTimer
└── Modal
```

### Modal Pattern
- Модальные окна используются для:
  * Отображения статистики по проектам
  * Выбора проекта при создании задачи
- Особенности реализации:
  * Единый стиль для всех модальных окон
  * Закрытие по клику на крестик или фон
  * Возможность передачи кастомного контента
  * Поддержка обработчиков событий для взаимодействия

### Data Flow
1. Глобальное состояние хранится в контексте
2. Компоненты подписываются на необходимые части состояния
3. Обновления происходят через действия контекста
4. Изменения автоматически сохраняются в localStorage
5. Модальные окна получают данные через props и отправляют изменения через callback-функции

### Timer Implementation
- Использование setInterval для обновления времени
- Обновление стоимости каждую минуту
- Централизованное управление таймерами через контекст

### Data Import/Export
- JSON формат для переносимости данных
- Валидация при импорте
- Сохранение текущего состояния при экспорте
